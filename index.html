  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Oscarâ€™s Website</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Hello, Iâ€™m Oscar ðŸ‘‹</h1>
    <p>Welcome to my personal website!</p>
  </header>

  <main>
    <section>
      <h2>About Me</h2>
      <p>I study empirical economics at Waseda University. I love data, policy, and creative research.</p>
    </section>

    <section>
      <h2>Projects</h2>
      <ul>
        <li>Public Space Friendliness Study (Tokyo)</li>
        <li>ESG Investment & Governance Analysis</li>
        <li>Comparative Political Economy Essay</li>
      </ul>
    </section>

    <section>
      <h2>Sequential Consumer Game</h2>
      <p>
        I built a Python environment for experimenting with consumer behavior in a
        sequential game between a retailer and multiple shopper segments. The
        retailer adjusts price and marketing sequentially, consumers respond
        stochastically, and loyalty updates dynamically each round.
      </p>
      <p>
        The simulation tracks pricing decisions, expected demand, revenue, and
        profit so you can prototype interventions that stimulate adoption or test
        strategic moves. Open a terminal in this project folder and run:
      </p>
      <pre><code>python consumer_game.py</code></pre>
      <p class="note">
        Use <code>python3</code> instead of <code>python</code> if your system
        differentiates between Python versions. Any environment with Python 3.8+
        will work.
      </p>
      <p>
        You can customize the <code>ConsumerSegment</code> profiles and swap in
        different retailer policies to explore alternative market designs.
      </p>
    </section>

    <section>
      <h2>Contact</h2>
      <p>Email: ozhao8509@email.com</p>
    </section>
  </main>
      <a href="china-ngo-localization-20251022.pptx" class="btn" download>ðŸ“‚ View Presentation</a>

  
<link rel="preconnect" href="https://cdn.jsdelivr.net">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
  .wrap { max-width: 900px; margin: 40px auto; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto; }
  .panel { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 16px; }
  .card { background:#111827; color:#e5e7eb; padding:16px; border-radius:14px; box-shadow:0 6px 20px rgba(0,0,0,.15); }
  label { font-size:14px; opacity:.9; display:block; margin-bottom:6px; }
  input[type="range"] { width:100%; }
  button { background:#2563eb; color:#fff; border:0; padding:10px 14px; border-radius:10px; cursor:pointer; }
  button:hover { filter:brightness(1.1); }
  table { width:100%; border-collapse: collapse; margin-top:10px; }
  td, th { padding:8px; border-bottom:1px solid #1f2937; text-align:left; }
  h1 { font-size:24px; margin:0 0 12px 0; color:#111827; }
  .muted { color:#6b7280; font-size:13px; }
</style>

<div class="wrap">
  <h1>Sequential Consumer Game (Browser Version)</h1>
  <p class="muted">Adjust rounds, initial price, and initial marketing. Click <b>Run</b> to simulate two segments (price-sensitive & brand-loyal). All code runs client-side on your GitHub Pages.</p>

  <div class="panel">
    <div class="card">
      <label>Rounds: <span id="roundsVal">12</span></label>
      <input id="rounds" type="range" min="5" max="50" value="12" oninput="roundsVal.textContent=this.value">
      <label>Start Price: <span id="priceVal">9.5</span></label>
      <input id="startPrice" type="range" min="3" max="20" step="0.1" value="9.5" oninput="priceVal.textContent=this.value">
      <label>Start Marketing: <span id="mktVal">0.60</span></label>
      <input id="startMkt" type="range" min="0" max="1" step="0.01" value="0.60" oninput="mktVal.textContent=this.value">
      <div style="margin-top:12px"><button onclick="runSim()">Run Simulation</button></div>
    </div>

    <div class="card">
      <b>Last Round Summary</b>
      <table id="summary">
        <thead><tr><th>Metric</th><th>Value</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <div class="card">
    <canvas id="chart" height="120"></canvas>
  </div>

  <div class="card">
    <details>
      <summary><b>About the model</b></summary>
      <p class="muted">Per round the retailer nudges price (Â±0.3) and marketing (Â±0.05). Segment A has higher price sensitivity and marketing response than Segment B. Profit = price Ã— total buyers âˆ’ 50 Ã— marketing.</p>
    </details>
  </div>
</div>

<script>
  // --- Small random helper for reproducibility toggle if needed
  function rand(min, max) { return Math.random() * (max - min) + min; }

  class Segment {
    constructor(name, priceSens, mktSens, base=0.3) {
      this.name = name; this.priceSens = priceSens; this.mktSens = mktSens; this.base = base;
    }
    buyProb(price, marketing) {
      const p = this.base + this.mktSens * marketing - this.priceSens * price;
      return Math.max(0, Math.min(1, p));
    }
  }

  function simulate({ rounds, startPrice, startMkt }) {
    const segA = new Segment("A (price-sensitive)", 0.05, 0.15, 0.25);
    const segB = new Segment("B (brand-loyal)",     0.02, 0.08, 0.35);
    const segments = [segA, segB];

    let price = startPrice, marketing = startMkt;
    const out = { price: [], marketing: [], buyers: [], profit: [], perSeg: [] };

    for (let t = 1; t <= rounds; t++) {
      price = Math.max(1, price + rand(-0.3, 0.3));
      marketing = Math.max(0, Math.min(1, marketing + rand(-0.05, 0.05)));

      let total = 0; const segRows = [];
      for (const seg of segments) {
        const prob = seg.buyProb(price, marketing);
        // 100 consumers per segment
        let buyers = 0;
        for (let i=0;i<100;i++) if (Math.random() < prob) buyers++;
        total += buyers;
        segRows.push({ name: seg.name, prob, buyers });
      }
      const revenue = total * price;
      const cost = marketing * 50;
      const profit = revenue - cost;

      out.price.push(price);
      out.marketing.push(marketing);
      out.buyers.push(total);
      out.profit.push(profit);
      out.perSeg.push(segRows);
    }
    return out;
  }

  let chart;
  function renderChart(data) {
    const ctx = document.getElementById('chart').getContext('2d');
    const labels = data.profit.map((_, i) => `Round ${i+1}`);
    const ds = [
      { label: 'Profit', data: data.profit, yAxisID: 'y' },
      { label: 'Total Buyers', data: data.buyers, yAxisID: 'y1' }
    ];
    if (chart) chart.destroy();
    chart = new Chart(ctx, {
      type: 'line',
      data: { labels, datasets: ds },
      options: {
        responsive: true,
        interaction: { mode: 'index', intersect: false },
        plugins: { legend: { position: 'top' } },
        scales: {
          y: { title: { display: true, text: 'Profit' } },
          y1: { position: 'right', grid: { drawOnChartArea: false }, title: { display: true, text: 'Total Buyers' } }
        }
      }
    });
  }

  function renderSummary(data) {
    const tBody = document.querySelector('#summary tbody');
    tBody.innerHTML = '';
    const n = data.profit.length - 1;

    const last = [
      ['Round', (n+1)],
      ['Price', data.price[n].toFixed(2)],
      ['Marketing', data.marketing[n].toFixed(2)],
      ['Total Buyers', data.buyers[n]],
      ['Profit', data.profit[n].toFixed(2)],
      ['Seg A: P(buy), buyers', `${data.perSeg[n][0].prob.toFixed(2)}, ${data.perSeg[n][0].buyers}/100`],
      ['Seg B: P(buy), buyers', `${data.perSeg[n][1].prob.toFixed(2)}, ${data.perSeg[n][1].buyers}/100`],
    ];
    for (const [k,v] of last) {
      const tr = document.createElement('tr');
      tr.innerHTML = `<td>${k}</td><td>${v}</td>`;
      tBody.appendChild(tr);
    }
  }

  function runSim() {
    const rounds = +document.getElementById('rounds').value;
    const startPrice = +document.getElementById('startPrice').value;
    const startMkt = +document.getElementById('startMkt').value;
    const result = simulate({ rounds, startPrice, startMkt });
    renderChart(result);
    renderSummary(result);
  }

  // Auto-run once on load
  window.addEventListener('DOMContentLoaded', runSim);
</script>
<footer>
    <small>Â© 2025 Oscar Zhao</small>
  </footer>
</body>
</html>




